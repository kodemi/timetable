<!DOCTYPE html>
<html>
    <head>
<script type="text/javascript" src="http://code.jquery.com/jquery-1.5.1.min.js"></script>
<script>
    $(document).bind("mobileinit", function(){
        $.mobile.page.prototype.options.backBtnText = "Назад";
        $('html').removeClass('landscape ui-page');
        $.mobile.addResolutionBreakpoints(1200);
    });
    $(function(){
        $('#vnukovo').live('pagecreate', function(ev){$('input[placeholder^="Filter"]').attr('placeholder', 'Фильтровать результат ...');});
        function switch_flights(target){
            if ( target === "radio-arrival" ){
                $(".Arrival").show();
                $(".Departure").hide();
            }
            else {
                $(".Arrival").hide();
                $(".Departure").show();
            }
        };

        var onload_flight_type = $("input[name=radio-flight-type]:not(:checked)").attr('id');
        switch_flights(onload_flight_type); 
        $("input[name=radio-flight-type]").bind("change", function(ev){
            var target = ev.target.id;
            switch_flights(target);
        });
    });
</script>
<script src="http://code.jquery.com/mobile/1.0a3/jquery.mobile-1.0a3.min.js"></script>
<link rel="stylesheet" href="http://code.jquery.com/mobile/1.0a3/jquery.mobile-1.0a3.min.css" />
<style type="text/css">
    html {
        height: 100%;
    }
    body {
        margin: 0;
        padding: 0;
        height: 100%;
    }
    .landscape, .landscape .ui-page, .portrait, .portrait .ui-page {
        min-height: 100%;
    }
</style>
        <title>Vnukovo Flights</title>
    </head>
    <body>
        <div data-role="page" id="main_page">
            <div data-role="header">
                <h1>Рейсы</h1>
            </div>
            <div data-role="content" data-theme="c">
                <ul data-role="listview" data-inset="true">
                    <li><a href="#vnukovo">Внуково</a></li>
                </ul>
            </div>
            <!--
            <div data-role="footer" data-position="fixed">
                <p></p>
            </div>
            -->
        </div>

        <div data-role="page" id="vnukovo">
            <div data-role="header">
                <h1>Внуковские рейсы</h1>
            </div>
            <div data-role="content" data-theme="c">
                <div data-role="fieldcontain">
                    <fieldset data-role="controlgroup" data-type="horizontal">
                                <input type="radio" name="radio-flight-type" id="radio-arrival" value="0" checked="checked" />
                                <label for="radio-arrival">Прилет</label>
                                <input type="radio" name="radio-flight-type" id="radio-departure" value="1" />
                                <label for="radio-departure">Вылет</label>
                    </fieldset>
                </div>
                <ul data-role="listview" role="listbox" data-inset="true" data-filter="true" data-theme="d">
                {% for flight in flights %}
                <li role="option" class="{{ flight.get_flight_type_display }} ui-li ui-li-static ui-btn-up-d">
                    <div class="ui-btn-inner">
                        <div class="ui-btn-text"> 
                            <h3 class="ui-li-heading">
                                {{ flight.flight }}
                            </h3>
                            {% for name, value in flight.get_fields %}
                            <p class="ui-li-desc">{{ name }}: {{ value|default:"-" }}</p>
                            {% endfor %}
                        </div>
                    </div>
                </li>
                {% endfor %}
                </ul>
                <div></div>
            </div>
            <!--
            <div data-role="footer" data-position="fixed">
                <p></p>
            </div>
            -->
        </div>

        <div data-role="page" id="flight_details">
            <div data-role="content">
                    {% for name, value in flight.get_fields %}
                        <p>{{ name }}: {{ value|default:"-" }}</p>
                    {% endfor %}
            </div>
        </div>

    </body>
</html>
